import { Canvas, Easing, Fill, useLoop } from "@shopify/react-native-skia";
import React from "react";
import { useTheme } from "@rneui/themed";
import { prepare, GradientAlongPath } from "./PathAlongGradient";

const hello = prepare(`M1 107C10.5678 88.4501 10.9675 74.4816 25.5 59.5C34.6666 50.0501 39.9488 41.7297 53 40C56.6778 39.5126 60.2011 37.0881 62.5 40C64.3149 42.2989 62.9609 44.6076 62.5 47.5C61.0363 56.6852 52.7993 58.3562 47.5 66C45.2473 69.2493 40.7963 70.7339 42 74.5C43.3412 78.6962 48.5975 76.8426 53 77C66.0524 77.4665 81.5 59.5 81.5 59.5C81.5 59.5 83.9412 51.3454 87.5 47.5C91.8302 42.821 95.6275 40.1865 102 40C106.692 39.8627 110.897 39.5932 113.5 43.5C115.773 46.9125 114.137 49.9493 113.5 54C113.5 54 110.748 71.7195 102 74.5C102 74.5 80.3426 57.411 81.5 66C82.4492 73.044 96 77 96 77L113.5 63.5C113.5 63.5 123.545 61.9532 129.5 59.5C153.499 49.6137 142.71 17.1021 164.5 2.99999C191.338 -14.3691 99.7111 88.6012 129.5 77C148.034 69.782 144.944 36.3704 164.5 40C170.939 41.1951 175.755 42.1272 179.5 47.5C187.239 58.6027 149.345 58.9862 154.5 71.5L158 77C158 77 221.098 81.0039 223.5 54C224.058 47.7278 225.104 43.1635 221.5 38C213.785 26.9476 195.092 46.0343 194.5 59.5C194.177 66.8535 196.303 71.7876 201.5 77C213.792 89.3281 242.5 59.5 242.5 59.5C242.5 59.5 246.973 49.5303 250.5 43.5C257.658 31.2605 236.5 77 236.5 77C236.5 77 256.167 26.5966 270.5 40C273.153 42.4808 274.605 44.1467 276 47.5C280.634 58.6363 260.739 62.4407 261 74.5C261.345 90.423 271.944 46.9152 287.5 43.5C293.031 42.2858 297.014 40.8154 302 43.5C312.475 49.1402 281.298 63.3885 290 71.5C295.072 76.2277 300.623 75.3883 307.5 74.5C324.232 72.3388 316.793 42.3472 333.5 40C340.971 38.9503 348.139 37.3429 352.5 43.5C356.111 48.5991 354.553 53.5984 352.5 59.5C349.778 67.3245 345.708 73.378 337.5 74.5C337.5 74.5 320.937 58.4603 320 66C319.161 72.7487 333.5 77 333.5 77C333.5 77 357.136 72.7459 368.5 63.5C376.259 57.1873 374.707 45.5334 384.5 43.5C397.281 40.8464 358.998 73.3471 372 74.5C383.712 75.5384 380.143 57.1195 389.5 50C397.724 43.7426 404.573 35.7667 414 40C426.956 45.8177 390.872 66.3468 402.5 74.5C404.287 75.7533 405.441 76.2753 407.5 77C420.136 81.4463 434.845 72.7205 437 59.5`);

export const PathGradient = () => {

  const { theme } = useTheme()
  const progress = useLoop({
    duration: 3000,
    easing: Easing.inOut(Easing.ease),
  });
  return (
    <Canvas style={{ flex: 1 }}>
      <Fill color={theme.colors.background} />
      <GradientAlongPath {...hello} progress={progress} />
    </Canvas>
  );
};